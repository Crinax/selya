"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Interpreter=void 0;var _fs=_interopRequireDefault(require("fs")),_process=_interopRequireDefault(require("process")),_Parser=require("../Parser");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var Interpreter=/*#__PURE__*/function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,a),_defineProperty(this,"_file",void 0),this._file=b,this._parser=new _Parser.Parser}return _createClass(a,[{key:"run",value:function run(){var a=this;if(this._file){var b=_fs["default"].readFileSync(this._file).toString();this._parser.setupMemory(b),this._parser.parse(b)}else{var c=!0;console.clear(),console.log("[Selya::Repl] Write \"exit\" to exit the repl"),console.log("[Selya::Repl] Hope you and enjoy :D\n"),_process["default"].stdout.write("=> "),_process["default"].stdin.on("data",function(b){var d=b.toString().slice(0,-2);"exit"===d?(a._parser._memory.output(),_process["default"].exit(0)):(c?(a._parser.setupMemory(d),c=!1):a._parser.parse(d),_process["default"].stdout.write("=> "))})}}}]),a}();exports.Interpreter=Interpreter;